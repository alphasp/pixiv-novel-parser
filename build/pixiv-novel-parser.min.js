!function(a){var b="process"in a,c=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return zd!==b&&(zd>b&&(zd=0,Ad={line:1,column:1,seenCR:!1}),c(Ad,zd,b),zd=b),Ad}function d(a){Bd>xd||(xd>Bd&&(Bd=xd,Cd=[]),Cd.push(a))}function e(d,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=c(f),j=f<a.length?a.charAt(f):null;return null!==e&&g(e),new b(null!==d?d:h(e,j),e,j,f,i.line,i.column)}function f(){var a;return a=g()}function g(){var a,b;for(a=[],b=i(),b===ib&&(b=h());b!==ib;)a.push(b),b=i(),b===ib&&(b=h());return a}function h(){var b,c,e;if(b=xd,c=[],mb.test(a.charAt(xd))?(e=a.charAt(xd),xd++):(e=ib,0===Dd&&d(nb)),e!==ib)for(;e!==ib;)c.push(e),mb.test(a.charAt(xd))?(e=a.charAt(xd),xd++):(e=ib,0===Dd&&d(nb));else c=lb;return c!==ib&&(yd=b,c=ob(c)),b=c}function i(){var a;return a=j(),a===ib&&(a=k(),a===ib&&(a=l(),a===ib&&(a=m(),a===ib&&(a=n(),a===ib&&(a=o()))))),a}function j(){var b,c,e;return b=xd,a.substr(xd,9)===pb?(c=pb,xd+=9):(c=ib,0===Dd&&d(qb)),c!==ib?(e=v(),e===ib&&(e=rb),e!==ib?(yd=b,c=sb(),b=c):(xd=b,b=lb)):(xd=b,b=lb),b}function k(){var b,c,e,f;return b=xd,a.substr(xd,9)===tb?(c=tb,xd+=9):(c=ib,0===Dd&&d(ub)),c!==ib?(e=p(),e!==ib?(93===a.charCodeAt(xd)?(f=vb,xd++):(f=ib,0===Dd&&d(wb)),f!==ib?(yd=b,c=xb(e),b=c):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb),b}function l(){var b,c,e,f,g,h;return b=xd,a.substr(xd,12)===yb?(c=yb,xd+=12):(c=ib,0===Dd&&d(zb)),c!==ib?(e=r(),e!==ib?(f=xd,45===a.charCodeAt(xd)?(g=Ab,xd++):(g=ib,0===Dd&&d(Bb)),g!==ib?(h=s(),h!==ib?(g=[g,h],f=g):(xd=f,f=lb)):(xd=f,f=lb),f===ib&&(f=rb),f!==ib?(93===a.charCodeAt(xd)?(g=vb,xd++):(g=ib,0===Dd&&d(wb)),g!==ib?(yd=b,c=Cb(e),b=c):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb),b}function m(){var b,c,e,f;return b=xd,a.substr(xd,6)===Db?(c=Db,xd+=6):(c=ib,0===Dd&&d(Eb)),c!==ib?(e=s(),e!==ib?(93===a.charCodeAt(xd)?(f=vb,xd++):(f=ib,0===Dd&&d(wb)),f!==ib?(yd=b,c=Fb(e),b=c):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb),b}function n(){var b,c,e,f,g,h;return b=xd,a.substr(xd,10)===Gb?(c=Gb,xd+=10):(c=ib,0===Dd&&d(Hb)),c!==ib?(e=q(),e!==ib?(62===a.charCodeAt(xd)?(f=Ib,xd++):(f=ib,0===Dd&&d(Jb)),f!==ib?(g=C(),g!==ib?(a.substr(xd,2)===Kb?(h=Kb,xd+=2):(h=ib,0===Dd&&d(Lb)),h!==ib?(yd=b,c=Mb(e,g),b=c):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb),b}function o(){var b,c;return b=xd,91===a.charCodeAt(xd)?(c=Nb,xd++):(c=ib,0===Dd&&d(Ob)),c!==ib&&(yd=b,c=Pb()),b=c}function p(){var b,c,e;for(b=xd,c=[],Qb.test(a.charAt(xd))?(e=a.charAt(xd),xd++):(e=ib,0===Dd&&d(Rb));e!==ib;)c.push(e),Qb.test(a.charAt(xd))?(e=a.charAt(xd),xd++):(e=ib,0===Dd&&d(Rb));return c!==ib&&(yd=b,c=Sb(c)),b=c}function q(){var b,c,e;for(b=xd,c=[],Tb.test(a.charAt(xd))?(e=a.charAt(xd),xd++):(e=ib,0===Dd&&d(Ub));e!==ib;)c.push(e),Tb.test(a.charAt(xd))?(e=a.charAt(xd),xd++):(e=ib,0===Dd&&d(Ub));return c!==ib&&(yd=b,c=Sb(c)),b=c}function r(){var a,b,c;if(a=xd,b=[],c=w(),c!==ib)for(;c!==ib;)b.push(c),c=w();else b=lb;return b!==ib&&(yd=a,b=Vb(b)),a=b}function s(){var a,b,c;if(a=xd,b=[],c=w(),c!==ib)for(;c!==ib;)b.push(c),c=w();else b=lb;return b!==ib&&(yd=a,b=Wb(b)),a=b}function t(){var b;return Xb.test(a.charAt(xd))?(b=a.charAt(xd),xd++):(b=ib,0===Dd&&d(Yb)),b===ib&&(Zb.test(a.charAt(xd))?(b=a.charAt(xd),xd++):(b=ib,0===Dd&&d($b))),b}function u(){var b;return 13===a.charCodeAt(xd)?(b=bc,xd++):(b=ib,0===Dd&&d(cc)),b}function v(){var a,b,c;return a=xd,b=u(),b!==ib?(c=y(),c!==ib?(b=[b,c],a=b):(xd=a,a=lb)):(xd=a,a=lb),a}function w(){var b;return dc.test(a.charAt(xd))?(b=a.charAt(xd),xd++):(b=ib,0===Dd&&d(ec)),b}function x(){var b;return b=w(),b===ib&&(65===a.charCodeAt(xd)?(b=fc,xd++):(b=ib,0===Dd&&d(gc)),b===ib&&(66===a.charCodeAt(xd)?(b=hc,xd++):(b=ib,0===Dd&&d(ic)),b===ib&&(67===a.charCodeAt(xd)?(b=jc,xd++):(b=ib,0===Dd&&d(kc)),b===ib&&(68===a.charCodeAt(xd)?(b=lc,xd++):(b=ib,0===Dd&&d(mc)),b===ib&&(69===a.charCodeAt(xd)?(b=nc,xd++):(b=ib,0===Dd&&d(oc)),b===ib&&(70===a.charCodeAt(xd)?(b=pc,xd++):(b=ib,0===Dd&&d(qc)))))))),b}function y(){var b;return 10===a.charCodeAt(xd)?(b=rc,xd++):(b=ib,0===Dd&&d(sc)),b}function z(){var b,c,e,f,g;return b=xd,c=xd,37===a.charCodeAt(xd)?(e=tc,xd++):(e=ib,0===Dd&&d(uc)),e!==ib?(f=x(),f!==ib?(g=x(),g!==ib?(e=[e,f,g],c=e):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb),c!==ib&&(c=a.substring(b,xd)),b=c}function A(){var b;return 33===a.charCodeAt(xd)?(b=Fc,xd++):(b=ib,0===Dd&&d(Gc)),b===ib&&(36===a.charCodeAt(xd)?(b=Hc,xd++):(b=ib,0===Dd&&d(Ic)),b===ib&&(38===a.charCodeAt(xd)?(b=Jc,xd++):(b=ib,0===Dd&&d(Kc)),b===ib&&(39===a.charCodeAt(xd)?(b=Lc,xd++):(b=ib,0===Dd&&d(Mc)),b===ib&&(40===a.charCodeAt(xd)?(b=Nc,xd++):(b=ib,0===Dd&&d(Oc)),b===ib&&(41===a.charCodeAt(xd)?(b=Pc,xd++):(b=ib,0===Dd&&d(Qc)),b===ib&&(42===a.charCodeAt(xd)?(b=Rc,xd++):(b=ib,0===Dd&&d(Sc)),b===ib&&(43===a.charCodeAt(xd)?(b=Tc,xd++):(b=ib,0===Dd&&d(Uc)),b===ib&&(44===a.charCodeAt(xd)?(b=Vc,xd++):(b=ib,0===Dd&&d(Wc)),b===ib&&(59===a.charCodeAt(xd)?(b=Xc,xd++):(b=ib,0===Dd&&d(Yc)),b===ib&&(61===a.charCodeAt(xd)?(b=Zc,xd++):(b=ib,0===Dd&&d($c)))))))))))),b}function B(){var b;return b=t(),b===ib&&(b=w(),b===ib&&(45===a.charCodeAt(xd)?(b=Ab,xd++):(b=ib,0===Dd&&d(Bb)),b===ib&&(46===a.charCodeAt(xd)?(b=_c,xd++):(b=ib,0===Dd&&d(ad)),b===ib&&(95===a.charCodeAt(xd)?(b=bd,xd++):(b=ib,0===Dd&&d(cd)),b===ib&&(126===a.charCodeAt(xd)?(b=dd,xd++):(b=ib,0===Dd&&d(ed))))))),b}function C(){var b,c,e,f,g,h,i,j;return b=xd,c=E(),c!==ib?(58===a.charCodeAt(xd)?(e=vc,xd++):(e=ib,0===Dd&&d(wc)),e!==ib?(f=D(),f!==ib?(g=xd,63===a.charCodeAt(xd)?(h=zc,xd++):(h=ib,0===Dd&&d(Ac)),h!==ib?(i=$(),i!==ib?(h=[h,i],g=h):(xd=g,g=lb)):(xd=g,g=lb),g===ib&&(g=rb),g!==ib?(h=xd,35===a.charCodeAt(xd)?(i=Bc,xd++):(i=ib,0===Dd&&d(Cc)),i!==ib?(j=_(),j!==ib?(i=[i,j],h=i):(xd=h,h=lb)):(xd=h,h=lb),h===ib&&(h=rb),h!==ib?(c=[c,e,f,g,h],b=c):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb),b}function D(){var b,c,e,f;return b=xd,a.substr(xd,2)===fd?(c=fd,xd+=2):(c=ib,0===Dd&&d(gd)),c!==ib?(e=F(),e!==ib?(f=T(),f!==ib?(c=[c,e,f],b=c):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb),b===ib&&(b=U(),b===ib&&(b=V(),b===ib&&(b=W()))),b}function E(){var b,c,e,f,g;if(b=xd,c=xd,e=t(),e!==ib){for(f=[],g=t(),g===ib&&(g=w(),g===ib&&(43===a.charCodeAt(xd)?(g=Tc,xd++):(g=ib,0===Dd&&d(Uc)),g===ib&&(45===a.charCodeAt(xd)?(g=Ab,xd++):(g=ib,0===Dd&&d(Bb)),g===ib&&(46===a.charCodeAt(xd)?(g=_c,xd++):(g=ib,0===Dd&&d(ad))))));g!==ib;)f.push(g),g=t(),g===ib&&(g=w(),g===ib&&(43===a.charCodeAt(xd)?(g=Tc,xd++):(g=ib,0===Dd&&d(Uc)),g===ib&&(45===a.charCodeAt(xd)?(g=Ab,xd++):(g=ib,0===Dd&&d(Bb)),g===ib&&(46===a.charCodeAt(xd)?(g=_c,xd++):(g=ib,0===Dd&&d(ad))))));f!==ib?(e=[e,f],c=e):(xd=c,c=lb)}else xd=c,c=lb;return c!==ib&&(c=a.substring(b,xd)),b=c}function F(){var b,c,e,f,g,h;return b=xd,c=xd,e=G(),e!==ib?(64===a.charCodeAt(xd)?(f=Dc,xd++):(f=ib,0===Dd&&d(Ec)),f!==ib?(e=[e,f],c=e):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=rb),c!==ib?(e=H(),e!==ib?(f=xd,58===a.charCodeAt(xd)?(g=vc,xd++):(g=ib,0===Dd&&d(wc)),g!==ib?(h=S(),h!==ib?(g=[g,h],f=g):(xd=f,f=lb)):(xd=f,f=lb),f===ib&&(f=rb),f!==ib?(c=[c,e,f],b=c):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb),b}function G(){var b,c,e;for(b=xd,c=[],e=B(),e===ib&&(e=z(),e===ib&&(e=A(),e===ib&&(58===a.charCodeAt(xd)?(e=vc,xd++):(e=ib,0===Dd&&d(wc)))));e!==ib;)c.push(e),e=B(),e===ib&&(e=z(),e===ib&&(e=A(),e===ib&&(58===a.charCodeAt(xd)?(e=vc,xd++):(e=ib,0===Dd&&d(wc)))));return c!==ib&&(c=a.substring(b,xd)),b=c}function H(){var a,b,c,d;return a=xd,b=I(),b!==ib?(c=xd,Dd++,d=R(),Dd--,d===ib?c=hd:(xd=c,c=lb),c!==ib?(b=[b,c],a=b):(xd=a,a=lb)):(xd=a,a=lb),a===ib&&(a=xd,b=O(),b!==ib?(c=xd,Dd++,d=R(),Dd--,d===ib?c=hd:(xd=c,c=lb),c!==ib?(b=[b,c],a=b):(xd=a,a=lb)):(xd=a,a=lb),a===ib&&(a=Q())),a}function I(){var b,c,e,f;return b=xd,91===a.charCodeAt(xd)?(c=Nb,xd++):(c=ib,0===Dd&&d(Ob)),c!==ib?(e=K(),e===ib&&(e=J()),e!==ib?(93===a.charCodeAt(xd)?(f=vb,xd++):(f=ib,0===Dd&&d(wb)),f!==ib?(c=[c,e,f],b=c):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb),b}function J(){var b,c,e,f,g,h,i;if(b=xd,118===a.charCodeAt(xd)?(c=id,xd++):(c=ib,0===Dd&&d(jd)),c!==ib){if(e=xd,f=[],g=x(),g!==ib)for(;g!==ib;)f.push(g),g=x();else f=lb;if(f!==ib&&(f=a.substring(e,xd)),e=f,e!==ib)if(46===a.charCodeAt(xd)?(f=_c,xd++):(f=ib,0===Dd&&d(ad)),f!==ib){if(g=xd,h=[],i=B(),i===ib&&(58===a.charCodeAt(xd)?(i=vc,xd++):(i=ib,0===Dd&&d(wc))),i!==ib)for(;i!==ib;)h.push(i),i=B(),i===ib&&(58===a.charCodeAt(xd)?(i=vc,xd++):(i=ib,0===Dd&&d(wc)));else h=lb;h!==ib&&(h=a.substring(g,xd)),g=h,g!==ib?(c=[c,e,f,g],b=c):(xd=b,b=lb)}else xd=b,b=lb;else xd=b,b=lb}else xd=b,b=lb;return b}function K(){var b,c,e,f,g,h,i,j,k,l,m,n,o,p;return b=xd,c=xd,e=M(),e!==ib?(f=M(),f!==ib?(g=M(),g!==ib?(h=M(),h!==ib?(i=M(),i!==ib?(j=M(),j!==ib?(k=L(),k!==ib?(e=[e,f,g,h,i,j,k],c=e):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=xd,a.substr(xd,2)===kd?(e=kd,xd+=2):(e=ib,0===Dd&&d(ld)),e!==ib?(f=M(),f!==ib?(g=M(),g!==ib?(h=M(),h!==ib?(i=M(),i!==ib?(j=M(),j!==ib?(k=L(),k!==ib?(e=[e,f,g,h,i,j,k],c=e):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=xd,e=N(),e===ib&&(e=rb),e!==ib?(a.substr(xd,2)===kd?(f=kd,xd+=2):(f=ib,0===Dd&&d(ld)),f!==ib?(g=M(),g!==ib?(h=M(),h!==ib?(i=M(),i!==ib?(j=M(),j!==ib?(k=L(),k!==ib?(e=[e,f,g,h,i,j,k],c=e):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=xd,e=xd,f=M(),f===ib&&(f=rb),f!==ib?(g=N(),g!==ib?(f=[f,g],e=f):(xd=e,e=lb)):(xd=e,e=lb),e===ib&&(e=rb),e!==ib?(a.substr(xd,2)===kd?(f=kd,xd+=2):(f=ib,0===Dd&&d(ld)),f!==ib?(g=M(),g!==ib?(h=M(),h!==ib?(i=M(),i!==ib?(j=L(),j!==ib?(e=[e,f,g,h,i,j],c=e):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=xd,e=xd,f=xd,g=M(),g!==ib?(h=M(),h===ib&&(h=rb),h!==ib?(g=[g,h],f=g):(xd=f,f=lb)):(xd=f,f=lb),f===ib&&(f=rb),f!==ib?(g=N(),g!==ib?(f=[f,g],e=f):(xd=e,e=lb)):(xd=e,e=lb),e===ib&&(e=rb),e!==ib?(a.substr(xd,2)===kd?(f=kd,xd+=2):(f=ib,0===Dd&&d(ld)),f!==ib?(g=M(),g!==ib?(h=M(),h!==ib?(i=L(),i!==ib?(e=[e,f,g,h,i],c=e):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=xd,e=xd,f=xd,g=M(),g!==ib?(h=xd,i=M(),i!==ib?(j=M(),j===ib&&(j=rb),j!==ib?(i=[i,j],h=i):(xd=h,h=lb)):(xd=h,h=lb),h===ib&&(h=rb),h!==ib?(g=[g,h],f=g):(xd=f,f=lb)):(xd=f,f=lb),f===ib&&(f=rb),f!==ib?(g=N(),g!==ib?(f=[f,g],e=f):(xd=e,e=lb)):(xd=e,e=lb),e===ib&&(e=rb),e!==ib?(a.substr(xd,2)===kd?(f=kd,xd+=2):(f=ib,0===Dd&&d(ld)),f!==ib?(g=M(),g!==ib?(h=L(),h!==ib?(e=[e,f,g,h],c=e):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=xd,e=xd,f=xd,g=M(),g!==ib?(h=xd,i=M(),i!==ib?(j=xd,k=M(),k!==ib?(l=M(),l===ib&&(l=rb),l!==ib?(k=[k,l],j=k):(xd=j,j=lb)):(xd=j,j=lb),j===ib&&(j=rb),j!==ib?(i=[i,j],h=i):(xd=h,h=lb)):(xd=h,h=lb),h===ib&&(h=rb),h!==ib?(g=[g,h],f=g):(xd=f,f=lb)):(xd=f,f=lb),f===ib&&(f=rb),f!==ib?(g=N(),g!==ib?(f=[f,g],e=f):(xd=e,e=lb)):(xd=e,e=lb),e===ib&&(e=rb),e!==ib?(a.substr(xd,2)===kd?(f=kd,xd+=2):(f=ib,0===Dd&&d(ld)),f!==ib?(g=L(),g!==ib?(e=[e,f,g],c=e):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=xd,e=xd,f=xd,g=M(),g!==ib?(h=xd,i=M(),i!==ib?(j=xd,k=M(),k!==ib?(l=xd,m=M(),m!==ib?(n=M(),n===ib&&(n=rb),n!==ib?(m=[m,n],l=m):(xd=l,l=lb)):(xd=l,l=lb),l===ib&&(l=rb),l!==ib?(k=[k,l],j=k):(xd=j,j=lb)):(xd=j,j=lb),j===ib&&(j=rb),j!==ib?(i=[i,j],h=i):(xd=h,h=lb)):(xd=h,h=lb),h===ib&&(h=rb),h!==ib?(g=[g,h],f=g):(xd=f,f=lb)):(xd=f,f=lb),f===ib&&(f=rb),f!==ib?(g=N(),g!==ib?(f=[f,g],e=f):(xd=e,e=lb)):(xd=e,e=lb),e===ib&&(e=rb),e!==ib?(a.substr(xd,2)===kd?(f=kd,xd+=2):(f=ib,0===Dd&&d(ld)),f!==ib?(g=N(),g!==ib?(e=[e,f,g],c=e):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=xd,e=xd,f=xd,g=M(),g!==ib?(h=xd,i=M(),i!==ib?(j=xd,k=M(),k!==ib?(l=xd,m=M(),m!==ib?(n=xd,o=M(),o!==ib?(p=M(),p===ib&&(p=rb),p!==ib?(o=[o,p],n=o):(xd=n,n=lb)):(xd=n,n=lb),n===ib&&(n=rb),n!==ib?(m=[m,n],l=m):(xd=l,l=lb)):(xd=l,l=lb),l===ib&&(l=rb),l!==ib?(k=[k,l],j=k):(xd=j,j=lb)):(xd=j,j=lb),j===ib&&(j=rb),j!==ib?(i=[i,j],h=i):(xd=h,h=lb)):(xd=h,h=lb),h===ib&&(h=rb),h!==ib?(g=[g,h],f=g):(xd=f,f=lb)):(xd=f,f=lb),f===ib&&(f=rb),f!==ib?(g=N(),g!==ib?(f=[f,g],e=f):(xd=e,e=lb)):(xd=e,e=lb),e===ib&&(e=rb),e!==ib?(a.substr(xd,2)===kd?(f=kd,xd+=2):(f=ib,0===Dd&&d(ld)),f!==ib?(e=[e,f],c=e):(xd=c,c=lb)):(xd=c,c=lb))))))))),c!==ib&&(c=a.substring(b,xd)),b=c}function L(){var b,c,e,f;return b=xd,c=N(),c!==ib?(58===a.charCodeAt(xd)?(e=vc,xd++):(e=ib,0===Dd&&d(wc)),e!==ib?(f=N(),f!==ib?(c=[c,e,f],b=c):(xd=b,b=lb)):(xd=b,b=lb)):(xd=b,b=lb),b===ib&&(b=O()),b}function M(){var b,c,e;return b=xd,c=N(),c!==ib?(58===a.charCodeAt(xd)?(e=vc,xd++):(e=ib,0===Dd&&d(wc)),e!==ib?(c=[c,e],b=c):(xd=b,b=lb)):(xd=b,b=lb),b}function N(){var b,c,d,e,f,g,h,i;return b=xd,c=xd,d=x(),d!==ib?(e=xd,f=x(),f!==ib?(g=xd,h=x(),h!==ib?(i=x(),i===ib&&(i=rb),i!==ib?(h=[h,i],g=h):(xd=g,g=lb)):(xd=g,g=lb),g===ib&&(g=rb),g!==ib?(f=[f,g],e=f):(xd=e,e=lb)):(xd=e,e=lb),e===ib&&(e=rb),e!==ib?(d=[d,e],c=d):(xd=c,c=lb)):(xd=c,c=lb),c!==ib&&(c=a.substring(b,xd)),b=c}function O(){var b,c,e,f,g,h,i,j,k;return b=xd,c=xd,e=P(),e!==ib?(46===a.charCodeAt(xd)?(f=_c,xd++):(f=ib,0===Dd&&d(ad)),f!==ib?(g=P(),g!==ib?(46===a.charCodeAt(xd)?(h=_c,xd++):(h=ib,0===Dd&&d(ad)),h!==ib?(i=P(),i!==ib?(46===a.charCodeAt(xd)?(j=_c,xd++):(j=ib,0===Dd&&d(ad)),j!==ib?(k=P(),k!==ib?(e=[e,f,g,h,i,j,k],c=e):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb),c!==ib&&(c=a.substring(b,xd)),b=c}function P(){var b,c,e,f,g;return b=xd,c=xd,a.substr(xd,2)===md?(e=md,xd+=2):(e=ib,0===Dd&&d(nd)),e!==ib?(od.test(a.charAt(xd))?(f=a.charAt(xd),xd++):(f=ib,0===Dd&&d(pd)),f!==ib?(e=[e,f],c=e):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=xd,50===a.charCodeAt(xd)?(e=qd,xd++):(e=ib,0===Dd&&d(rd)),e!==ib?(sd.test(a.charAt(xd))?(f=a.charAt(xd),xd++):(f=ib,0===Dd&&d(td)),f!==ib?(g=w(),g!==ib?(e=[e,f,g],c=e):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=xd,49===a.charCodeAt(xd)?(e=_b,xd++):(e=ib,0===Dd&&d(ac)),e!==ib?(f=w(),f!==ib?(g=w(),g!==ib?(e=[e,f,g],c=e):(xd=c,c=lb)):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=xd,ud.test(a.charAt(xd))?(e=a.charAt(xd),xd++):(e=ib,0===Dd&&d(vd)),e!==ib?(f=w(),f!==ib?(e=[e,f],c=e):(xd=c,c=lb)):(xd=c,c=lb),c===ib&&(c=w())))),c!==ib&&(c=a.substring(b,xd)),b=c}function Q(){var b,c,d;for(b=xd,c=[],d=R();d!==ib;)c.push(d),d=R();return c!==ib&&(c=a.substring(b,xd)),b=c}function R(){var a;return a=B(),a===ib&&(a=z()),a}function S(){var b,c,d;for(b=xd,c=[],d=w();d!==ib;)c.push(d),d=w();return c!==ib&&(c=a.substring(b,xd)),b=c}function T(){var b,c,e,f,g;for(b=xd,c=[],e=xd,47===a.charCodeAt(xd)?(f=xc,xd++):(f=ib,0===Dd&&d(yc)),f!==ib?(g=X(),g!==ib?(f=[f,g],e=f):(xd=e,e=lb)):(xd=e,e=lb);e!==ib;)c.push(e),e=xd,47===a.charCodeAt(xd)?(f=xc,xd++):(f=ib,0===Dd&&d(yc)),f!==ib?(g=X(),g!==ib?(f=[f,g],e=f):(xd=e,e=lb)):(xd=e,e=lb);return c!==ib&&(c=a.substring(b,xd)),b=c}function U(){var b,c,e,f,g,h,i,j,k;if(b=xd,c=xd,47===a.charCodeAt(xd)?(e=xc,xd++):(e=ib,0===Dd&&d(yc)),e!==ib){if(f=xd,g=Y(),g!==ib){for(h=[],i=xd,47===a.charCodeAt(xd)?(j=xc,xd++):(j=ib,0===Dd&&d(yc)),j!==ib?(k=X(),k!==ib?(j=[j,k],i=j):(xd=i,i=lb)):(xd=i,i=lb);i!==ib;)h.push(i),i=xd,47===a.charCodeAt(xd)?(j=xc,xd++):(j=ib,0===Dd&&d(yc)),j!==ib?(k=X(),k!==ib?(j=[j,k],i=j):(xd=i,i=lb)):(xd=i,i=lb);h!==ib?(g=[g,h],f=g):(xd=f,f=lb)}else xd=f,f=lb;f===ib&&(f=rb),f!==ib?(e=[e,f],c=e):(xd=c,c=lb)}else xd=c,c=lb;return c!==ib&&(c=a.substring(b,xd)),b=c}function V(){var b,c,e,f,g,h,i;if(b=xd,c=xd,e=Y(),e!==ib){for(f=[],g=xd,47===a.charCodeAt(xd)?(h=xc,xd++):(h=ib,0===Dd&&d(yc)),h!==ib?(i=X(),i!==ib?(h=[h,i],g=h):(xd=g,g=lb)):(xd=g,g=lb);g!==ib;)f.push(g),g=xd,47===a.charCodeAt(xd)?(h=xc,xd++):(h=ib,0===Dd&&d(yc)),h!==ib?(i=X(),i!==ib?(h=[h,i],g=h):(xd=g,g=lb)):(xd=g,g=lb);f!==ib?(e=[e,f],c=e):(xd=c,c=lb)}else xd=c,c=lb;return c!==ib&&(c=a.substring(b,xd)),b=c}function W(){var a;return a=wd}function X(){var b,c,d;for(b=xd,c=[],d=Z();d!==ib;)c.push(d),d=Z();return c!==ib&&(c=a.substring(b,xd)),b=c}function Y(){var b,c,d;if(b=xd,c=[],d=Z(),d!==ib)for(;d!==ib;)c.push(d),d=Z();else c=lb;return c!==ib&&(c=a.substring(b,xd)),b=c}function Z(){var b;return b=B(),b===ib&&(b=z(),b===ib&&(b=A(),b===ib&&(58===a.charCodeAt(xd)?(b=vc,xd++):(b=ib,0===Dd&&d(wc)),b===ib&&(64===a.charCodeAt(xd)?(b=Dc,xd++):(b=ib,0===Dd&&d(Ec)))))),b}function $(){var b,c,e;for(b=xd,c=[],e=Z(),e===ib&&(47===a.charCodeAt(xd)?(e=xc,xd++):(e=ib,0===Dd&&d(yc)),e===ib&&(63===a.charCodeAt(xd)?(e=zc,xd++):(e=ib,0===Dd&&d(Ac))));e!==ib;)c.push(e),e=Z(),e===ib&&(47===a.charCodeAt(xd)?(e=xc,xd++):(e=ib,0===Dd&&d(yc)),e===ib&&(63===a.charCodeAt(xd)?(e=zc,xd++):(e=ib,0===Dd&&d(Ac))));return c!==ib&&(c=a.substring(b,xd)),b=c}function _(){var b,c,e;for(b=xd,c=[],e=Z(),e===ib&&(47===a.charCodeAt(xd)?(e=xc,xd++):(e=ib,0===Dd&&d(yc)),e===ib&&(63===a.charCodeAt(xd)?(e=zc,xd++):(e=ib,0===Dd&&d(Ac))));e!==ib;)c.push(e),e=Z(),e===ib&&(47===a.charCodeAt(xd)?(e=xc,xd++):(e=ib,0===Dd&&d(yc)),e===ib&&(63===a.charCodeAt(xd)?(e=zc,xd++):(e=ib,0===Dd&&d(Ac))));return c!==ib&&(c=a.substring(b,xd)),b=c}function ab(a){return"[object String]"===Object.prototype.toString.call(a)?a:a.reduce(function(a,b){return"[object Array]"===Object.prototype.toString.call(b)&&(b=ab(b)),a+(""+b)},"")}function bb(){return{type:"tag",name:"newpage"}}function cb(a){return{type:"tag",name:"chapter",title:a}}function db(a,b){return{type:"tag",name:"pixivimage",illustId:a,pageNumber:b}}function eb(a){return{type:"tag",name:"jump",pageNumber:a}}function fb(a,b){return{type:"tag",name:"jumpuri",title:a,uri:ab(b)}}var gb,hb=arguments.length>1?arguments[1]:{},ib={},jb={start:f},kb=f,lb=ib,mb=/^[^[]/,nb={type:"class",value:"[^[]",description:"[^[]"},ob=function(a){return{type:"text",val:ab(a)}},pb="[newpage]",qb={type:"literal",value:"[newpage]",description:'"[newpage]"'},rb=null,sb=function(){return bb()},tb="[chapter:",ub={type:"literal",value:"[chapter:",description:'"[chapter:"'},vb="]",wb={type:"literal",value:"]",description:'"]"'},xb=function(a){return cb(a)},yb="[pixivimage:",zb={type:"literal",value:"[pixivimage:",description:'"[pixivimage:"'},Ab="-",Bb={type:"literal",value:"-",description:'"-"'},Cb=function(a){return db(a,pageNumber)},Db="[jump:",Eb={type:"literal",value:"[jump:",description:'"[jump:"'},Fb=function(a){return eb(a)},Gb="[[jumpuri:",Hb={type:"literal",value:"[[jumpuri:",description:'"[[jumpuri:"'},Ib=">",Jb={type:"literal",value:">",description:'">"'},Kb="]]",Lb={type:"literal",value:"]]",description:'"]]"'},Mb=function(a,b){return fb(a,b)},Nb="[",Ob={type:"literal",value:"[",description:'"["'},Pb=function(){return{type:"text",val:"["}},Qb=/^[^\]]/,Rb={type:"class",value:"[^\\]]",description:"[^\\]]"},Sb=function(a){return ab(a)},Tb=/^[^>]/,Ub={type:"class",value:"[^>]",description:"[^>]"},Vb=function(a){return ab(a)},Wb=function(a){return parseInt(ab(a),10)},Xb=/^[A-Z]/,Yb={type:"class",value:"[A-Z]",description:"[A-Z]"},Zb=/^[a-z]/,$b={type:"class",value:"[a-z]",description:"[a-z]"},_b="1",ac={type:"literal",value:"1",description:'"1"'},bc="\r",cc={type:"literal",value:"\r",description:'"\\r"'},dc=/^[0-9]/,ec={type:"class",value:"[0-9]",description:"[0-9]"},fc="A",gc={type:"literal",value:"A",description:'"A"'},hc="B",ic={type:"literal",value:"B",description:'"B"'},jc="C",kc={type:"literal",value:"C",description:'"C"'},lc="D",mc={type:"literal",value:"D",description:'"D"'},nc="E",oc={type:"literal",value:"E",description:'"E"'},pc="F",qc={type:"literal",value:"F",description:'"F"'},rc="\n",sc={type:"literal",value:"\n",description:'"\\n"'},tc="%",uc={type:"literal",value:"%",description:'"%"'},vc=":",wc={type:"literal",value:":",description:'":"'},xc="/",yc={type:"literal",value:"/",description:'"/"'},zc="?",Ac={type:"literal",value:"?",description:'"?"'},Bc="#",Cc={type:"literal",value:"#",description:'"#"'},Dc="@",Ec={type:"literal",value:"@",description:'"@"'},Fc="!",Gc={type:"literal",value:"!",description:'"!"'},Hc="$",Ic={type:"literal",value:"$",description:'"$"'},Jc="&",Kc={type:"literal",value:"&",description:'"&"'},Lc="'",Mc={type:"literal",value:"'",description:'"\'"'},Nc="(",Oc={type:"literal",value:"(",description:'"("'},Pc=")",Qc={type:"literal",value:")",description:'")"'},Rc="*",Sc={type:"literal",value:"*",description:'"*"'},Tc="+",Uc={type:"literal",value:"+",description:'"+"'},Vc=",",Wc={type:"literal",value:",",description:'","'},Xc=";",Yc={type:"literal",value:";",description:'";"'},Zc="=",$c={type:"literal",value:"=",description:'"="'},_c=".",ad={type:"literal",value:".",description:'"."'},bd="_",cd={type:"literal",value:"_",description:'"_"'},dd="~",ed={type:"literal",value:"~",description:'"~"'},fd="//",gd={type:"literal",value:"//",description:'"//"'},hd=void 0,id="v",jd={type:"literal",value:"v",description:'"v"'},kd="::",ld={type:"literal",value:"::",description:'"::"'},md="25",nd={type:"literal",value:"25",description:'"25"'},od=/^[0-5]/,pd={type:"class",value:"[0-5]",description:"[0-5]"},qd="2",rd={type:"literal",value:"2",description:'"2"'},sd=/^[0-4]/,td={type:"class",value:"[0-4]",description:"[0-4]"},ud=/^[1-9]/,vd={type:"class",value:"[1-9]",description:"[1-9]"},wd="",xd=0,yd=0,zd=0,Ad={line:1,column:1,seenCR:!1},Bd=0,Cd=[],Dd=0;if("startRule"in hb){if(!(hb.startRule in jb))throw Error("Can't start parsing from rule \""+hb.startRule+'".');kb=jb[hb.startRule]}if(gb=kb(),gb!==ib&&xd===a.length)return gb;throw gb!==ib&&xd<a.length&&d({type:"end",description:"end of input"}),e(null,Cd,Bd)}return a(b,Error),{SyntaxError:b,parse:c}}();b?module.exports=c:(a.PixivNovelParser=a.PixivNovelParser||{},a.PixivNovelParser.parser=c)}((this||0).self||global),function(a){"use strict";function b(a){return(""+a).replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace('"',"&quot;").replace("'","&apos;")}function c(a){return b(a).replace(/[\r\n]/g," ")}function d(a,d){return'<a href="'+c(a)+'">'+b(d)+"</a>"}function e(){this.tree=[]}var f,g="process"in a;f=g?require("./parser.peg.js"):PixivNovelParser.parser,e.parse=function(a){return f.parse(a).reduce(function(a,b){var c=a[a.length-1];return"text"===b.type&&c&&"text"===c.type?c.val+=b.val:a.push(b),a},[])},e.prototype.parse=function(a){return this.tree=e.parse(a),this},e.prototype.toHTML=function(){function a(a){return'<a href="'+c(a.illustId+"/"+a.pageNumber)+'"></a>'}for(var e,f="",g=0,h=this.tree.length,i=[];e=this.tree[g],h>g;++g)if("text"!==e.type)switch(e.name){case"newpage":i.push(f),f="";break;case"chapter":f+='<p class="chapter">'+b(e.title)+"</p>";break;case"pixivimage":f+=a(e);break;case"jump":f+=d("#"+e.pageNumber,e.pageNumber+"ページへ");break;case"jumpuri":f+=d(e.uri,e.title)}else f+=b(e.val).trim().replace(/\r?\n/g,"<br/>");return i.push(f),i},g?module.exports=e:(a.PixivNovelParser=a.PixivNovalPerser||{},a.PixivNovelParser.Parser=e)}((this||0).self||global),function(a){"use strict";var b="process"in a;b?module.exports=require("./parser"):a.PixivNovelParser=a.PixivNovelParser||{}}((this||0).self||global);
//# sourceMappingURL=pixiv-novel-parser.min.js.map