!function l(r,n,e){function u(s,t){if(!n[s]){if(!r[s]){var v="function"==typeof require&&require;if(!t&&v)return v(s,!0);if(a)return a(s,!0);throw Error("Cannot find module '"+s+"'")}var i=n[s]={exports:{}};r[s][0].call(i.exports,function(l){var n=r[s][1][l];return u(n?n:l)},i,i.exports,l,r,n,e)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<e.length;s++)u(e[s]);return u}({1:[function(l){(function(r){"use strict";var n={};n="object"==typeof self&&self.self===self?self:"object"==typeof r&&r.global===r?r:this,n.PixivNovelParser=l("./")}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":2}],2:[function(l,r){!function(){"use strict";function n(l){l=l||{},this.syntax=l.syntax||"basic",this.tree=[]}var e;e=l("./parser.peg.js"),n.parse=function(l,r){r=r||{},r.syntax=r.syntax||"basic";try{switch(l=l.replace(/\r?\n/g,"\n").replace(/[\s\u200c]/g,function(l){return"\n"===l||"ã€€"===l?l:" "}),r.syntax){case"basic":default:return e.parse(l)}}catch(n){return console.error(n),[{type:"text",val:l}]}},n.prototype.parse=function(l){return this.tree=n.parse(l,{syntax:this.syntax}),this},n.prototype.toJSON=function(){return JSON.stringify(this.tree)},r.exports={Parser:n}}()},{"./parser.peg.js":3}],3:[function(l,r){!function(){var l=function(){var l={parse:function(l,r){function n(l,r,n){for(var e=l,u=n-l.length,a=0;u>a;a++)e=r+e;return e}function e(l){var r=l.charCodeAt(0);if(255>=r)var e="x",u=2;else var e="u",u=4;return"\\"+e+n(r.toString(16).toUpperCase(),"0",u)}function u(l){return'"'+l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,e)+'"'}function a(l){al>el||(el>al&&(al=el,sl=[]),sl.push(l))}function s(){var l="novel@"+el,r=tl[l];if(r)return el=r.nextPos,r.result;var n=[],e=p();if(null!==e)var u=e;else{var a=t();if(null!==a)var u=a;else var u=null}for(;null!==u;){n.push(u);var e=p();if(null!==e)var u=e;else{var a=t();if(null!==a)var u=a;else var u=null}}return tl[l]={nextPos:el,result:n},n}function t(){var r="text@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el;if(null!==l.substr(el).match(/^[^[\r\n]/)){var u=l.charAt(el);el++}else{var u=null;ul&&a("[^[\\r\\n]")}if(null!==u)for(var s=[];null!==u;)if(s.push(u),null!==l.substr(el).match(/^[^[\r\n]/)){var u=l.charAt(el);el++}else{var u=null;ul&&a("[^[\\r\\n]")}else var s=null;if(null!==s)var t=s;else{var v=el,i=el,f=ul;ul=!1;var o=el,c=ul;ul=!1;var h=p();if(ul=c,null===h)var P="";else{var P=null;el=o}if(ul=f,null!==P){var m="";el=i}else var m=null;if(null!==m){if("["===l.substr(el,1)){var g="[";el+=1}else{var g=null;ul&&a('"["')}if(null!==g)var A=[m,g];else{var A=null;el=v}}else{var A=null;el=v}if(null!==A)var t=A;else{var y=el,T=el,j=ul;ul=!1;var F=el,C=ul;ul=!1;var E=x();if(null!==E)var I=E;else{var w=b();if(null!==w)var I=w;else var I=null}if(ul=C,null===I)var S="";else{var S=null;el=F}if(ul=j,null!==S){var L="";el=T}else var L=null;if(null!==L){var R=d();if(null!==R)var k=[L,R];else{var k=null;el=y}}else{var k=null;el=y}if(null!==k)var t=k;else var t=null}}if(null!==t)for(var D=[];null!==t;){if(D.push(t),null!==l.substr(el).match(/^[^[\r\n]/)){var u=l.charAt(el);el++}else{var u=null;ul&&a("[^[\\r\\n]")}if(null!==u)for(var s=[];null!==u;)if(s.push(u),null!==l.substr(el).match(/^[^[\r\n]/)){var u=l.charAt(el);el++}else{var u=null;ul&&a("[^[\\r\\n]")}else var s=null;if(null!==s)var t=s;else{var v=el,i=el,f=ul;ul=!1;var o=el,c=ul;ul=!1;var h=p();if(ul=c,null===h)var P="";else{var P=null;el=o}if(ul=f,null!==P){var m="";el=i}else var m=null;if(null!==m){if("["===l.substr(el,1)){var g="[";el+=1}else{var g=null;ul&&a('"["')}if(null!==g)var A=[m,g];else{var A=null;el=v}}else{var A=null;el=v}if(null!==A)var t=A;else{var y=el,T=el,j=ul;ul=!1;var F=el,C=ul;ul=!1;var E=x();if(null!==E)var I=E;else{var w=b();if(null!==w)var I=w;else var I=null}if(ul=C,null===I)var S="";else{var S=null;el=F}if(ul=j,null!==S){var L="";el=T}else var L=null;if(null!==L){var R=d();if(null!==R)var k=[L,R];else{var k=null;el=y}}else{var k=null;el=y}if(null!==k)var t=k;else var t=null}}}else var D=null;var H=null!==D?function(l){for(var r="",n=0;n<l.length;n++)r+=l[n].join("");return X(r)}(D):null;if(null!==H)var B=H;else{var B=null;el=e}return tl[r]={nextPos:el,result:B},B}function v(){var r="inlineText@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el;if(null!==l.substr(el).match(/^[^[\]]/)){var u=l.charAt(el);el++}else{var u=null;ul&&a("[^[\\]]")}if(null!==u)for(var s=[];null!==u;)if(s.push(u),null!==l.substr(el).match(/^[^[\]]/)){var u=l.charAt(el);el++}else{var u=null;ul&&a("[^[\\]]")}else var s=null;if(null!==s)var t=s;else{var v=el,i=el,f=ul;ul=!1;var o=el,c=ul;ul=!1;var h=I();if(ul=c,null===h)var p="";else{var p=null;el=o}if(ul=f,null!==p){var x="";el=i}else var x=null;if(null!==x){if("["===l.substr(el,1)){var b="[";el+=1}else{var b=null;ul&&a('"["')}if(null!==b)var P=[x,b];else{var P=null;el=v}}else{var P=null;el=v}if(null!==P)var t=P;else var t=null}if(null!==t)for(var m=[];null!==t;){if(m.push(t),null!==l.substr(el).match(/^[^[\]]/)){var u=l.charAt(el);el++}else{var u=null;ul&&a("[^[\\]]")}if(null!==u)for(var s=[];null!==u;)if(s.push(u),null!==l.substr(el).match(/^[^[\]]/)){var u=l.charAt(el);el++}else{var u=null;ul&&a("[^[\\]]")}else var s=null;if(null!==s)var t=s;else{var v=el,i=el,f=ul;ul=!1;var o=el,c=ul;ul=!1;var h=I();if(ul=c,null===h)var p="";else{var p=null;el=o}if(ul=f,null!==p){var x="";el=i}else var x=null;if(null!==x){if("["===l.substr(el,1)){var b="[";el+=1}else{var b=null;ul&&a('"["')}if(null!==b)var P=[x,b];else{var P=null;el=v}}else{var P=null;el=v}if(null!==P)var t=P;else var t=null}}else var m=null;var g=null!==m?function(l){return X(V(Q(l).join("")))}(m):null;if(null!==g)var A=g;else{var A=null;el=e}return tl[r]={nextPos:el,result:A},A}function i(){var l="inlineToken@"+el,r=tl[l];if(r)return el=r.nextPos,r.result;var n=I();if(null!==n)var e=n;else{var u=v();if(null!==u)var e=u;else var e=null}return tl[l]={nextPos:el,result:e},e}function f(){var l="inlineTokens@"+el,r=tl[l];if(r)return el=r.nextPos,r.result;var n=i();if(null!==n)for(var e=[];null!==n;){e.push(n);var n=i()}else var e=null;return tl[l]={nextPos:el,result:e},e}function o(){var r="inlineInlineText@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el,u=el;if(null!==l.substr(el).match(/^[^[>]/)){var s=l.charAt(el);el++}else{var s=null;ul&&a("[^[>]")}if(null!==s)for(var t=[];null!==s;)if(t.push(s),null!==l.substr(el).match(/^[^[>]/)){var s=l.charAt(el);el++}else{var s=null;ul&&a("[^[>]")}else var t=null;if(null!==t){var v=el,i=ul;ul=!1;var f=el,o=ul;if(ul=!1,"]]"===l.substr(el,2)){var c="]]";el+=2}else{var c=null;ul&&a('"]]"')}if(ul=o,null===c)var h="";else{var h=null;el=f}if(ul=i,null!==h){var p="";el=v}else var p=null;if(null!==p)var x=[t,p];else{var x=null;el=u}}else{var x=null;el=u}if(null!==x)var b=x;else{var P=el,m=el,g=ul;ul=!1;var A=el,y=ul;ul=!1;var T=I();if(ul=y,null===T)var j="";else{var j=null;el=A}if(ul=g,null!==j){var F="";el=m}else var F=null;if(null!==F){if("["===l.substr(el,1)){var C="[";el+=1}else{var C=null;ul&&a('"["')}if(null!==C)var E=[F,C];else{var E=null;el=P}}else{var E=null;el=P}if(null!==E)var b=E;else var b=null}if(null!==b)for(var d=[];null!==b;){d.push(b);var u=el;if(null!==l.substr(el).match(/^[^[>]/)){var s=l.charAt(el);el++}else{var s=null;ul&&a("[^[>]")}if(null!==s)for(var t=[];null!==s;)if(t.push(s),null!==l.substr(el).match(/^[^[>]/)){var s=l.charAt(el);el++}else{var s=null;ul&&a("[^[>]")}else var t=null;if(null!==t){var v=el,i=ul;ul=!1;var f=el,o=ul;if(ul=!1,"]]"===l.substr(el,2)){var c="]]";el+=2}else{var c=null;ul&&a('"]]"')}if(ul=o,null===c)var h="";else{var h=null;el=f}if(ul=i,null!==h){var p="";el=v}else var p=null;if(null!==p)var x=[t,p];else{var x=null;el=u}}else{var x=null;el=u}if(null!==x)var b=x;else{var P=el,m=el,g=ul;ul=!1;var A=el,y=ul;ul=!1;var T=I();if(ul=y,null===T)var j="";else{var j=null;el=A}if(ul=g,null!==j){var F="";el=m}else var F=null;if(null!==F){if("["===l.substr(el,1)){var C="[";el+=1}else{var C=null;ul&&a('"["')}if(null!==C)var E=[F,C];else{var E=null;el=P}}else{var E=null;el=P}if(null!==E)var b=E;else var b=null}}else var d=null;var w=null!==d?function(l){return X(V(Q(l).join("")))}(d):null;if(null!==w)var S=w;else{var S=null;el=e}return tl[r]={nextPos:el,result:S},S}function c(){var l="inlineInlineToken@"+el,r=tl[l];if(r)return el=r.nextPos,r.result;var n=I();if(null!==n)var e=n;else{var u=o();if(null!==u)var e=u;else var e=null}return tl[l]={nextPos:el,result:e},e}function h(){var l="inlineInlineTokens@"+el,r=tl[l];if(r)return el=r.nextPos,r.result;var n=c();if(null!==n)for(var e=[];null!==n;){e.push(n);var n=c()}else var e=null;return tl[l]={nextPos:el,result:e},e}function p(){var l="tag@"+el,r=tl[l];if(r)return el=r.nextPos,r.result;var n=x();if(null!==n)var e=n;else{var u=b();if(null!==u)var e=u;else{var a=P();if(null!==a)var e=a;else{var s=m();if(null!==s)var e=s;else{var t=g();if(null!==t)var e=t;else{var v=I();if(null!==v)var e=v;else var e=null}}}}}return tl[l]={nextPos:el,result:e},e}function x(){var r="tagNewpage@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el,u=el,s=d(),t=null!==s?s:"";if(null!==t){if("[newpage]"===l.substr(el,9)){var v="[newpage]";el+=9}else{var v=null;ul&&a('"[newpage]"')}if(null!==v){var i=d(),f=null!==i?i:"";if(null!==f)var o=[t,v,f];else{var o=null;el=u}}else{var o=null;el=u}}else{var o=null;el=u}var c=null!==o?function(){return Z()}():null;if(null!==c)var h=c;else{var h=null;el=e}return tl[r]={nextPos:el,result:h},h}function b(){var r="tagChapter@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el,u=el,s=d(),t=null!==s?s:"";if(null!==t){if("[chapter:"===l.substr(el,9)){var v="[chapter:";el+=9}else{var v=null;ul&&a('"[chapter:"')}if(null!==v){var i=f();if(null!==i){if("]"===l.substr(el,1)){var o="]";el+=1}else{var o=null;ul&&a('"]"')}if(null!==o){var c=d(),h=null!==c?c:"";if(null!==h)var p=[t,v,i,o,h];else{var p=null;el=u}}else{var p=null;el=u}}else{var p=null;el=u}}else{var p=null;el=u}}else{var p=null;el=u}var x=null!==p?function(l){return M(l)}(p[2]):null;if(null!==x)var b=x;else{var b=null;el=e}return tl[r]={nextPos:el,result:b},b}function P(){var r="tagPixivimage@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el,u=el;if("[pixivimage:"===l.substr(el,12)){var s="[pixivimage:";el+=12}else{var s=null;ul&&a('"[pixivimage:"')}if(null!==s){var t=T();if(null!==t){var v=el;if("-"===l.substr(el,1)){var i="-";el+=1}else{var i=null;ul&&a('"-"')}if(null!==i){var f=j();if(null!==f)var o=[i,f];else{var o=null;el=v}}else{var o=null;el=v}var c=null!==o?o:"";if(null!==c){if("]"===l.substr(el,1)){var h="]";el+=1}else{var h=null;ul&&a('"]"')}if(null!==h)var p=[s,t,c,h];else{var p=null;el=u}}else{var p=null;el=u}}else{var p=null;el=u}}else{var p=null;el=u}var x=null!==p?function(l,r){return K(l,r&&r[1])}(p[1],p[2]):null;if(null!==x)var b=x;else{var b=null;el=e}return tl[r]={nextPos:el,result:b},b}function m(){var r="tagJump@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el,u=el;if("[jump:"===l.substr(el,6)){var s="[jump:";el+=6}else{var s=null;ul&&a('"[jump:"')}if(null!==s){var t=j();if(null!==t){if("]"===l.substr(el,1)){var v="]";el+=1}else{var v=null;ul&&a('"]"')}if(null!==v)var i=[s,t,v];else{var i=null;el=u}}else{var i=null;el=u}}else{var i=null;el=u}var f=null!==i?function(l){return Y(l)}(i[1]):null;if(null!==f)var o=f;else{var o=null;el=e}return tl[r]={nextPos:el,result:o},o}function g(){var r="tagJumpuri@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el,u=el;if("[[jumpuri:"===l.substr(el,10)){var s="[[jumpuri:";el+=10}else{var s=null;ul&&a('"[[jumpuri:"')}if(null!==s){var t=h();if(null!==t){if(">"===l.substr(el,1)){var v=">";el+=1}else{var v=null;ul&&a('">"')}if(null!==v){for(var i=[],f=W();null!==f;){i.push(f);var f=W()}if(null!==i){var o=F();if(null!==o){for(var c=[],p=W();null!==p;){c.push(p);var p=W()}if(null!==c){if("]]"===l.substr(el,2)){var x="]]";el+=2}else{var x=null;ul&&a('"]]"')}if(null!==x)var b=[s,t,v,i,o,c,x];else{var b=null;el=u}}else{var b=null;el=u}}else{var b=null;el=u}}else{var b=null;el=u}}else{var b=null;el=u}}else{var b=null;el=u}}else{var b=null;el=u}var P=null!==b?function(l,r){return ll(l,r)}(b[1],b[4]):null;if(null!==P)var m=P;else{var m=null;el=e}return tl[r]={nextPos:el,result:m},m}function A(){var r="chapterTitle@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el,u=[];if(null!==l.substr(el).match(/^[^\]]/)){var s=l.charAt(el);el++}else{var s=null;ul&&a("[^\\]]")}for(;null!==s;)if(u.push(s),null!==l.substr(el).match(/^[^\]]/)){var s=l.charAt(el);el++}else{var s=null;ul&&a("[^\\]]")}var t=null!==u?function(l){return V(l.join(""))}(u):null;if(null!==t)var v=t;else{var v=null;el=e}return tl[r]={nextPos:el,result:v},v}function y(){var r="jumpuriTitle@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el,u=[];if(null!==l.substr(el).match(/^[^>]/)){var s=l.charAt(el);el++}else{var s=null;ul&&a("[^>]")}for(;null!==s;)if(u.push(s),null!==l.substr(el).match(/^[^>]/)){var s=l.charAt(el);el++}else{var s=null;ul&&a("[^>]")}var t=null!==u?function(l){return V(l.join(""))}(u):null;if(null!==t)var v=t;else{var v=null;el=e}return tl[r]={nextPos:el,result:v},v}function T(){var l="numeric@"+el,r=tl[l];if(r)return el=r.nextPos,r.result;var n=el,e=H();if(null!==e)for(var u=[];null!==e;){u.push(e);var e=H()}else var u=null;var a=null!==u?function(l){return l.join("")}(u):null;if(null!==a)var s=a;else{var s=null;el=n}return tl[l]={nextPos:el,result:s},s}function j(){var l="integer@"+el,r=tl[l];if(r)return el=r.nextPos,r.result;var n=el,e=H();if(null!==e)for(var u=[];null!==e;){u.push(e);var e=H()}else var u=null;var a=null!==u?function(l){return parseInt(l.join(""),10)}(u):null;if(null!==a)var s=a;else{var s=null;el=n}return tl[l]={nextPos:el,result:s},s}function F(){var r="URI@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el,u=el,s=el;if("http"===l.substr(el,4)){var t="http";el+=4}else{var t=null;ul&&a('"http"')}if(null!==t){if("s"===l.substr(el,1)){var v="s";el+=1}else{var v=null;ul&&a('"s"')}var i=null!==v?v:"";if(null!==i){if("://"===l.substr(el,3)){var f="://";el+=3}else{var f=null;ul&&a('"://"')}if(null!==f)var o=[t,i,f];else{var o=null;el=s}}else{var o=null;el=s}}else{var o=null;el=s}if(null!==o){for(var c=[],h=C();null!==h;){c.push(h);var h=C()}if(null!==c)var p=[o,c];else{var p=null;el=u}}else{var p=null;el=u}var x=null!==p?function(l,r){return l.join("")+r.join("")}(p[0],p[1]):null;if(null!==x)var b=x;else{var b=null;el=e}return tl[r]={nextPos:el,result:b},b}function C(){var r="uri_chrs@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=w();if(null!==e)var u=e;else{var s=H();if(null!==s)var u=s;else{var t=E();if(null!==t)var u=t;else{if(null!==l.substr(el).match(/^[\-._~!$&'()*+,;=:\/@.?#]/)){var v=l.charAt(el);el++}else{var v=null;ul&&a("[\\-._~!$&'()*+,;=:\\/@.?#]")}if(null!==v)var u=v;else var u=null}}}return tl[r]={nextPos:el,result:u},u}function E(){var r="percent_token@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el,u=el;if("%"===l.substr(el,1)){var s="%";el+=1}else{var s=null;ul&&a('"%"')}if(null!==s){var t=N();if(null!==t)for(var v=[];null!==t;){v.push(t);var t=N()}else var v=null;if(null!==v)var i=[s,v];else{var i=null;el=u}}else{var i=null;el=u}var f=null!==i?function(l){return"%"+l.join("")}(i[1]):null;if(null!==f)var o=f;else{var o=null;el=e}return tl[r]={nextPos:el,result:o},o}function I(){var r="tagRuby@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=el,u=el;if("[[rb:"===l.substr(el,5)){var s="[[rb:";el+=5}else{var s=null;ul&&a('"[[rb:"')}if(null!==s){var t=[];if(null!==l.substr(el).match(/^[^>]/)){var v=l.charAt(el);el++}else{var v=null;ul&&a("[^>]")}for(;null!==v;)if(t.push(v),null!==l.substr(el).match(/^[^>]/)){var v=l.charAt(el);el++}else{var v=null;ul&&a("[^>]")}if(null!==t){if(">"===l.substr(el,1)){var i=">";el+=1}else{var i=null;ul&&a('">"')}if(null!==i){var f=[];if(null!==l.substr(el).match(/^[^\]]/)){var o=l.charAt(el);el++}else{var o=null;ul&&a("[^\\]]")}if(null!==o)for(var c=[];null!==o;)if(c.push(o),null!==l.substr(el).match(/^[^\]]/)){var o=l.charAt(el);el++}else{var o=null;ul&&a("[^\\]]")}else var c=null;if(null!==c)var h=c;else{var p=el;if("]"===l.substr(el,1)){var x="]";el+=1}else{var x=null;ul&&a('"]"')}if(null!==x){var b=el,P=ul;ul=!1;var m=el,g=ul;if(ul=!1,"]"===l.substr(el,1)){var A="]";el+=1}else{var A=null;ul&&a('"]"')}if(ul=g,null===A)var y="";else{var y=null;el=m}if(ul=P,null!==y){var T="";el=b}else var T=null;if(null!==T)var j=[x,T];else{var j=null;el=p}}else{var j=null;el=p}if(null!==j)var h=j;else var h=null}for(;null!==h;){if(f.push(h),null!==l.substr(el).match(/^[^\]]/)){var o=l.charAt(el);el++}else{var o=null;ul&&a("[^\\]]")}if(null!==o)for(var c=[];null!==o;)if(c.push(o),null!==l.substr(el).match(/^[^\]]/)){var o=l.charAt(el);el++}else{var o=null;ul&&a("[^\\]]")}else var c=null;if(null!==c)var h=c;else{var p=el;if("]"===l.substr(el,1)){var x="]";el+=1}else{var x=null;ul&&a('"]"')}if(null!==x){var b=el,P=ul;ul=!1;var m=el,g=ul;if(ul=!1,"]"===l.substr(el,1)){var A="]";el+=1}else{var A=null;ul&&a('"]"')}if(ul=g,null===A)var y="";else{var y=null;el=m}if(ul=P,null!==y){var T="";el=b}else var T=null;if(null!==T)var j=[x,T];else{var j=null;el=p}}else{var j=null;el=p}if(null!==j)var h=j;else var h=null}}if(null!==f){if("]]"===l.substr(el,2)){var F="]]";el+=2}else{var F=null;ul&&a('"]]"')}if(null!==F)var C=[s,t,i,f,F];else{var C=null;el=u}}else{var C=null;el=u}}else{var C=null;el=u}}else{var C=null;el=u}}else{var C=null;el=u}var E=null!==C?function(l,r){return rl(V(l.join("")),V(Q(r).join("")))}(C[1],C[3]):null;if(null!==E)var I=E;else{var I=null;el=e}return tl[r]={nextPos:el,result:I},I}function d(){var l="newLine@"+el,r=tl[l];if(r)return el=r.nextPos,r.result;var n=J();if(null!==n)var e=n;else{var u=el,a=R();if(null!==a){var s=J(),t=null!==s?s:"";if(null!==t)var v=[a,t];else{var v=null;el=u}}else{var v=null;el=u}if(null!==v)var e=v;else var e=null}return tl[l]={nextPos:el,result:e},e}function w(){var r="ALPHA@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;if(null!==l.substr(el).match(/^[A-Z]/)){var e=l.charAt(el);el++}else{var e=null;ul&&a("[A-Z]")}if(null!==e)var u=e;else{if(null!==l.substr(el).match(/^[a-z]/)){var s=l.charAt(el);el++}else{var s=null;ul&&a("[a-z]")}if(null!==s)var u=s;else var u=null}return tl[r]={nextPos:el,result:u},u}function S(){var r="BIT@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;if("0"===l.substr(el,1)){var e="0";el+=1}else{var e=null;ul&&a('"0"')}if(null!==e)var u=e;else{if("1"===l.substr(el,1)){var s="1";el+=1}else{var s=null;ul&&a('"1"')}if(null!==s)var u=s;else var u=null}return tl[r]={nextPos:el,result:u},u}function L(){var r="CHAR@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;if(null!==l.substr(el).match(/^[-]/)){var e=l.charAt(el);el++}else{var e=null;ul&&a("[-]")}return tl[r]={nextPos:el,result:e},e}function R(){var r="CR@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;if("\r"===l.substr(el,1)){var e="\r";el+=1}else{var e=null;ul&&a('"\\r"')}return tl[r]={nextPos:el,result:e},e}function k(){var l="CRLF@"+el,r=tl[l];if(r)return el=r.nextPos,r.result;var n=el,e=R();if(null!==e){var u=J();if(null!==u)var a=[e,u];else{var a=null;el=n}}else{var a=null;el=n}return tl[l]={nextPos:el,result:a},a}function D(){var r="CTL@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;if(null!==l.substr(el).match(/^[\0-]/)){var e=l.charAt(el);el++}else{var e=null;ul&&a("[\\0-]")}if(null!==e)var u=e;else{if(""===l.substr(el,1)){var s="";el+=1}else{var s=null;ul&&a('""')}if(null!==s)var u=s;else var u=null}return tl[r]={nextPos:el,result:u},u}function H(){var r="DIGIT@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;if(null!==l.substr(el).match(/^[0-9]/)){var e=l.charAt(el);el++}else{var e=null;ul&&a("[0-9]")}return tl[r]={nextPos:el,result:e},e}function B(){var r="DQUOTE@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;if(null!==l.substr(el).match(/^["]/)){var e=l.charAt(el);el++}else{var e=null;ul&&a('["]')}return tl[r]={nextPos:el,result:e},e}function N(){var r="HEXDIG@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;var e=H();if(null!==e)var u=e;else{if("A"===l.substr(el,1)){var s="A";el+=1}else{var s=null;ul&&a('"A"')}if(null!==s)var u=s;else{if("B"===l.substr(el,1)){var t="B";el+=1}else{var t=null;ul&&a('"B"')}if(null!==t)var u=t;else{if("C"===l.substr(el,1)){var v="C";el+=1}else{var v=null;ul&&a('"C"')}if(null!==v)var u=v;else{if("D"===l.substr(el,1)){var i="D";el+=1}else{var i=null;ul&&a('"D"')}if(null!==i)var u=i;else{if("E"===l.substr(el,1)){var f="E";el+=1}else{var f=null;ul&&a('"E"')}if(null!==f)var u=f;else{if("F"===l.substr(el,1)){var o="F";el+=1}else{var o=null;ul&&a('"F"')}if(null!==o)var u=o;else var u=null}}}}}}return tl[r]={nextPos:el,result:u},u}function _(){var r="HTAB@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;if("	"===l.substr(el,1)){var e="	";el+=1}else{var e=null;ul&&a('"	"')}return tl[r]={nextPos:el,result:e},e}function J(){var r="LF@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;if("\n"===l.substr(el,1)){var e="\n";el+=1}else{var e=null;ul&&a('"\\n"')}return tl[r]={nextPos:el,result:e},e}function O(){var l="LWSP@"+el,r=tl[l];if(r)return el=r.nextPos,r.result;var n=[],e=W();if(null!==e)var u=e;else{var a=el,s=k();if(null!==s){var t=W();if(null!==t)var v=[s,t];else{var v=null;el=a}}else{var v=null;el=a}if(null!==v)var u=v;else var u=null}for(;null!==u;){n.push(u);var e=W();if(null!==e)var u=e;else{var a=el,s=k();if(null!==s){var t=W();if(null!==t)var v=[s,t];else{var v=null;el=a}}else{var v=null;el=a}if(null!==v)var u=v;else var u=null}}return tl[l]={nextPos:el,result:n},n}function U(){var r="OCTET@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;if(null!==l.substr(el).match(/^[\0-\xFF]/)){var e=l.charAt(el);el++}else{var e=null;ul&&a("[\\0-\\xFF]")}return tl[r]={nextPos:el,result:e},e}function q(){var r="SP@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;if(" "===l.substr(el,1)){var e=" ";el+=1}else{var e=null;ul&&a('" "')}return tl[r]={nextPos:el,result:e},e}function G(){var r="VCHAR@"+el,n=tl[r];if(n)return el=n.nextPos,n.result;if(null!==l.substr(el).match(/^[!-~]/)){var e=l.charAt(el);el++}else{var e=null;ul&&a("[!-~]")}return tl[r]={nextPos:el,result:e},e}function W(){var l="WSP@"+el,r=tl[l];if(r)return el=r.nextPos,r.result;var n=q();if(null!==n)var e=n;else{var u=_();if(null!==u)var e=u;else var e=null}return tl[l]={nextPos:el,result:e},e}function $(){function r(l){l.sort();for(var r=null,n=[],e=0;e<l.length;e++)l[e]!==r&&(n.push(l[e]),r=l[e]);switch(n.length){case 0:return"end of input";case 1:return n[0];default:return n.slice(0,n.length-1).join(", ")+" or "+n[n.length-1]}}var n=r(sl),e=Math.max(el,al),a=e<l.length?u(l.charAt(e)):"end of input";return"Expected "+n+" but "+a+" found."}function z(){for(var r=1,n=1,e=!1,u=0;al>u;u++){var a=l.charAt(u);"\n"===a?(e||r++,n=1,e=!1):"\r"===a|"\u2028"===a||"\u2029"===a?(r++,n=1,e=!0):(n++,e=!1)}return{line:r,column:n}}function Q(l){for(var r=[],n=0;n<l.length;n++)"object"==typeof l[n]?r=r.concat(Q(l[n])):r.push(l[n]);return r}function V(l){return l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function X(l){return{type:"text",val:l}}function Z(){return{type:"tag",name:"newpage"}}function M(l){return{type:"tag",name:"chapter",title:l}}function K(l,r){return{type:"tag",name:"pixivimage",illustID:l,pageNumber:r||null}}function Y(l){return{type:"tag",name:"jump",pageNumber:l}}function ll(l,r){return{type:"tag",name:"jumpuri",title:l,uri:r}}function rl(l,r){return{type:"tag",name:"rb",rubyBase:l,rubyText:r}}var nl={ALPHA:w,BIT:S,CHAR:L,CR:R,CRLF:k,CTL:D,DIGIT:H,DQUOTE:B,HEXDIG:N,HTAB:_,LF:J,LWSP:O,OCTET:U,SP:q,URI:F,VCHAR:G,WSP:W,chapterTitle:A,inlineInlineText:o,inlineInlineToken:c,inlineInlineTokens:h,inlineText:v,inlineToken:i,inlineTokens:f,integer:j,jumpuriTitle:y,newLine:d,novel:s,numeric:T,percent_token:E,tag:p,tagChapter:b,tagJump:m,tagJumpuri:g,tagNewpage:x,tagPixivimage:P,tagRuby:I,text:t,uri_chrs:C};if(void 0!==r){if(void 0===nl[r])throw Error("Invalid rule name: "+u(r)+".")}else r="novel";var el=0,ul=!0,al=0,sl=[],tl={},vl=nl[r]();if(null===vl||el!==l.length){var il=z();throw new this.SyntaxError($(),il.line,il.column)}return vl},toSource:function(){return this._source}};return l.SyntaxError=function(l,r,n){this.name="SyntaxError",this.message=l,this.line=r,this.column=n},l.SyntaxError.prototype=Error.prototype,l}();r.exports=l}()},{}]},{},[1]);
//# sourceMappingURL=pixiv-novel-parser.min.js.map